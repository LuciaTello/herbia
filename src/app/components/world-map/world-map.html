<svg viewBox="-20 0 190 190" xmlns="http://www.w3.org/2000/svg" class="world-map">
  <rect x="-20" y="0" width="190" height="190" fill="white" />

  <defs>
    <clipPath id="clip-eu"><rect x="-20" y="0" width="113" height="190" /></clipPath>
    <clipPath id="clip-as"><rect x="93" y="0" width="97" height="190" /></clipPath>
  </defs>

  <!-- Americas (2 sub-paths) -->
  <g class="continent" [class.has-plants]="continent('america').count > 0"
     (click)="onContinentClick('america')">
    <path [attr.fill]="fillColor(continent('america').count)" fill-rule="evenodd" d="M46.46 128.27L45.05 131.6L40.58 132.75L37.58 138.94L33.14 142.79L30.6 152.07L27.5 151.72C25.08 143.68 24.03 135.3 24.39 126.91L18.56 124.64L14.85 117.35L20.62 111.51L20.9 109.65L11.9 102.91L10.9 91.33L9.13 90.45L8.48 95.26L6.58 94.81L5 84.83C10 68.11 6.55 63.2 1 64.75L0.32 62.19L11.87 59C11.87 59 15.47 66.54 26.8 69.2C19.28 73.44 23.8 79.48 27.05 78.39L27.85 80.98L29.39 80.88L30.65 72.62L39.13 80.14L35.22 84L38 86.05L32.6 93.13C29.46 92.34 27.47 95.71 29.07 98.83L27.73 99.38C24.25 93.63 18 95.82 18 102L19.86 103.1L23.34 101.61L23.85 106.49H31.09L40.09 111.23L40.22 114.55L50.07 118.65L49.95 123.38L46.46 128.27Z" />
    <path [attr.fill]="fillColor(continent('america').count)" fill-rule="evenodd" d="M32.16 67L28.59 66.86L26.1 64.7L29.33 58L36.25 58.9C35.25 64.09 40.25 65.23 40.25 65.23L41.46 73.23L39.76 74.23L32.16 67Z" />
    <text x="25" y="97" class="label">{{ continent('america').name }}</text>
    @if (continent('america').count > 0) {
      <circle cx="25" cy="106" r="5" class="count-badge" />
      <text x="25" y="108.5" class="count">{{ continent('america').count }}</text>
    }
  </g>

  <!-- Europe (Eurasia clipped to west) -->
  <g class="continent" [class.has-plants]="continent('europe').count > 0"
     (click)="onContinentClick('europe')" clip-path="url(#clip-eu)">
    <path [attr.fill]="fillColor(continent('europe').count)" fill-rule="evenodd" d="M140.85 86.7L138 86.18L139 80.46L133.17 83.12L134.6 91.6L130.32 94.09L130.5 105L126.27 108.42L121.9 103.35L119.09 103.22C113.54 107.3 113.88 112.22 113.88 112.22L111.77 112.52C108.68 109.26 106.72 105.09 106.19 100.63L101.47 100.9L95.66 94.9L94 96.3L96.72 101.64L99.17 102L101.17 104.29L93 109L86.83 97.14L87.61 90.4L84.24 90.82L80.64 87.68L78.93 87.82L80.38 92.41L74.18 94.41L74 88.44L61.51 92.44V84.79L66.14 84.51L69.28 76.63L77.15 76.74L75.29 73.85L77.9 70.85C77.9 70.85 75.72 69.08 74.43 71.08L71.92 70.65C71.92 63.17 85.75 60.89 88.1 69.56L100.73 67.3L103.1 62.14L119 59.65L120.38 64.18L133.96 65.38L149.47 70.53L149.71 75L140.85 86.7Z" />
    <text x="78" y="78" class="label">{{ continent('europe').name }}</text>
    @if (continent('europe').count > 0) {
      <circle cx="78" cy="87" r="5" class="count-badge" />
      <text x="78" y="89.5" class="count">{{ continent('europe').count }}</text>
    }
  </g>

  <!-- Asia (Eurasia clipped to east) -->
  <g class="continent" [class.has-plants]="continent('asia').count > 0"
     (click)="onContinentClick('asia')" clip-path="url(#clip-as)">
    <path [attr.fill]="fillColor(continent('asia').count)" fill-rule="evenodd" d="M140.85 86.7L138 86.18L139 80.46L133.17 83.12L134.6 91.6L130.32 94.09L130.5 105L126.27 108.42L121.9 103.35L119.09 103.22C113.54 107.3 113.88 112.22 113.88 112.22L111.77 112.52C108.68 109.26 106.72 105.09 106.19 100.63L101.47 100.9L95.66 94.9L94 96.3L96.72 101.64L99.17 102L101.17 104.29L93 109L86.83 97.14L87.61 90.4L84.24 90.82L80.64 87.68L78.93 87.82L80.38 92.41L74.18 94.41L74 88.44L61.51 92.44V84.79L66.14 84.51L69.28 76.63L77.15 76.74L75.29 73.85L77.9 70.85C77.9 70.85 75.72 69.08 74.43 71.08L71.92 70.65C71.92 63.17 85.75 60.89 88.1 69.56L100.73 67.3L103.1 62.14L119 59.65L120.38 64.18L133.96 65.38L149.47 70.53L149.71 75L140.85 86.7Z" />
    <text x="125" y="80" class="label">{{ continent('asia').name }}</text>
    @if (continent('asia').count > 0) {
      <circle cx="125" cy="89" r="5" class="count-badge" />
      <text x="125" y="91.5" class="count">{{ continent('asia').count }}</text>
    }
  </g>

  <!-- Africa -->
  <g class="continent" [class.has-plants]="continent('africa').count > 0"
     (click)="onContinentClick('africa')">
    <path [attr.fill]="fillColor(continent('africa').count)" fill-rule="evenodd" d="M64 96.53L69.51 96.92L75.87 100.33L80.11 97.55L85 98L90.32 112.11L98.59 112.85C98.59 112.85 98.48 118.52 91.1 120.73L89.61 129L85.34 133.32C85.82 141.17 76.34 143.62 76.34 143.62L71.18 136.47L70.88 124.96L66.75 120.84L60.08 122L54.93 114.57L55.3 105.65L61.68 101.59L64 96.53Z" />
    <text x="75" y="116" class="label">{{ continent('africa').name }}</text>
    @if (continent('africa').count > 0) {
      <circle cx="75" cy="125" r="5" class="count-badge" />
      <text x="75" y="127.5" class="count">{{ continent('africa').count }}</text>
    }
  </g>

  <!-- Oceania -->
  <g class="continent" [class.has-plants]="continent('oceania').count > 0"
     (click)="onContinentClick('oceania')">
    <path [attr.fill]="fillColor(continent('oceania').count)" fill-rule="evenodd" d="M126.9 127.9L129.9 128.56L129.98 131.5L133.73 132.5L135.94 127.42L141.94 137.76L140.94 146.98L135 148.3L129.74 143L116.91 145.3L115.91 135.43L121.83 133.12L126.9 127.9Z" />
    <text x="130" y="155" class="label">{{ continent('oceania').name }}</text>
    @if (continent('oceania').count > 0) {
      <circle cx="130" cy="162" r="5" class="count-badge" />
      <text x="130" y="164.5" class="count">{{ continent('oceania').count }}</text>
    }
  </g>
</svg>
